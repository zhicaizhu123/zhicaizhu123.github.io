<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SourceTree使用教程 | PeterCoder</title>
    <meta name="description" content="积累学习的一点一滴">
    <link rel="icon" href="/img/logo.ico">
    
    <link rel="preload" href="/assets/css/0.styles.d35edc97.css" as="style"><link rel="preload" href="/assets/js/app.08330fdf.js" as="script"><link rel="preload" href="/assets/js/7.6b8ef219.js" as="script"><link rel="prefetch" href="/assets/js/2.d65db7cc.js"><link rel="prefetch" href="/assets/js/3.b905249e.js"><link rel="prefetch" href="/assets/js/4.ddf644e2.js"><link rel="prefetch" href="/assets/js/5.3b2743e4.js"><link rel="prefetch" href="/assets/js/6.40ad3f8c.js"><link rel="prefetch" href="/assets/js/8.52a78ff2.js"><link rel="prefetch" href="/assets/js/9.8bf35649.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d35edc97.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">PeterCoder</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/index/" class="nav-link">博客</a></div><div class="nav-item"><a href="https://github.com/zhicaizhu123/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/index/" class="nav-link">博客</a></div><div class="nav-item"><a href="https://github.com/zhicaizhu123/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><h1 id="sourcetree使用教程"><a href="#sourcetree使用教程" aria-hidden="true" class="header-anchor">#</a> SourceTree使用教程</h1> <h3 id="准备工作"><a href="#准备工作" aria-hidden="true" class="header-anchor">#</a> 准备工作</h3> <ul><li>Git版本管理工具 (<a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li> <li>安装SourceTree (<a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener noreferrer">下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li></ul> <h3 id="创建仓库"><a href="#创建仓库" aria-hidden="true" class="header-anchor">#</a> 创建仓库</h3> <p>可以通过 <strong>SSH</strong> 或 <strong>HTTPS</strong> 两种方式克隆代码
<img src="https://user-gold-cdn.xitu.io/2018/12/18/167bf515333f77c2?w=779&h=172&f=png&s=13373" alt></p> <h4 id="ssh方式提前配置"><a href="#ssh方式提前配置" aria-hidden="true" class="header-anchor">#</a> SSH方式提前配置</h4> <ul><li>使用 git 客户端生成私钥公钥 id_rsa、id_rsa.pub：<div class="language- extra-class"><pre class="language-text"><code>// 1. 设置Git的user name和email
git config --global user.name &quot;xxx&quot;
git config --global user.email &quot;xxx.mail@xxx.com&quot;

// 2. 生成 SSH 密钥, 按3个回车，密码为空
ssh-keygen -t rsa -C &quot;username@tzdtz.com&quot;

</code></pre></div></li> <li>使用SourceTree, 通过 “工具 -&gt; 选项 -&gt; 一般” 进入设置界面<br>
添加密钥：
<img src="https://user-gold-cdn.xitu.io/2018/12/18/167bf308a2712f01?w=680&h=600&f=png&s=40955" alt>
添加 id_rsa.pub 文件内容到 git 服务器:<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167bf4dbee2645e5?w=1330&h=628&f=png&s=48561" alt></li></ul> <h4 id="开始克隆（ssh-https）"><a href="#开始克隆（ssh-https）" aria-hidden="true" class="header-anchor">#</a> 开始克隆（SSH/HTTPS）</h4> <p>如果没有添加用户信息的，需要通过 “工具 -&gt; 选项 -&gt; 验证”<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167bf5e96562fda3?w=676&h=201&f=png&s=13915" alt>
使用快捷键 <code>CTRL+N</code> 或 “文件 -&gt; 克隆/新建” 进入以下界面，填写项目信息，克隆远程项目到本地<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167bf20d629510cb?w=658&h=536&f=png&s=15992" alt></p> <h3 id="工具导航栏"><a href="#工具导航栏" aria-hidden="true" class="header-anchor">#</a> 工具导航栏</h3> <p><img src="https://user-gold-cdn.xitu.io/2018/12/18/167c014fcb8e7924?w=591&h=58&f=png&s=5184" alt></p> <ul><li>提交 -&gt; git commit ...</li> <li>拉取 -&gt; git pull ...</li> <li>推送 -&gt; git push ...</li> <li>获取 -&gt; git fetch ...</li> <li>分支 -&gt; git checkout -b xxx（创建分支同时切换到该分支）</li> <li>合并 -&gt; git merge ...</li> <li>贮藏 -&gt; git stash ...</li> <li>丢弃 -&gt; git reset ...</li> <li>标签 -&gt; git tag ...</li></ul> <h3 id="检出-创建分支"><a href="#检出-创建分支" aria-hidden="true" class="header-anchor">#</a> 检出/创建分支</h3> <p>针对广研的实际情况，通常项目是以下几种分支类型：</p> <ul><li>master 主分支,稳定的版本；</li> <li>pre 预发布分支；</li> <li>test 测试环境分支；</li> <li>feature 功能分支，日常功能开发分支，名称命名规则：日期+功能版本，例如：20181001-crm-2.3；<br>
如果自测没有问题可以，可以合并到test分支，如果test分支测试没有问题，可以合并到pre分支并打tag，如果pre测试验收后，收到测试小伙伴的上线通知邮件后，可以合并到master主分支并打tag；</li> <li>fix分支,线上紧急bug，从master创建fix分支,修复测试通过后,合并到master主分支。</li></ul> <p>首次开发项目，从远程获取分支：<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167bffdbf5a6474c?w=253&h=353&f=png&s=11673" alt><br>
检出为本地分支：<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c002094b63237?w=351&h=402&f=png&s=16617" alt><br>
创建个人分支：</p> <ul><li>双击master，切换到master分支；<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c00848ec8ca99?w=201&h=275&f=png&s=6685" alt></li> <li>拉取master线上最新代码；<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c00988157211a?w=249&h=344&f=png&s=11971" alt></li> <li>从master主分支创建功能分支feature(例如：20181001-crm-2.3)<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c00ada8ccb3e8?w=449&h=198&f=png&s=14979" alt><br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c00c7ccdfc8d4?w=599&h=240&f=png&s=12371" alt></li></ul> <h3 id="合并分支"><a href="#合并分支" aria-hidden="true" class="header-anchor">#</a> 合并分支</h3> <p><strong>注意：</strong><br>
合并分支前，需要拉取先拉取目标分支最新代码到本地分支，例如需要把<code>20181001-crm-2.3</code>分支合并到<code>test</code>分支，我们需要先拉取<code>origin/test</code>的远程库的最新代码，然后才进行合并，确保test和远程库的最新代码保持同步<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c034895b8343d?w=312&h=399&f=png&s=14128" alt><br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c03ad0a29a531?w=396&h=406&f=png&s=19913" alt></p> <h3 id="冲突和解决方式"><a href="#冲突和解决方式" aria-hidden="true" class="header-anchor">#</a> 冲突和解决方式</h3> <h4 id="冲突出现原因"><a href="#冲突出现原因" aria-hidden="true" class="header-anchor">#</a> 冲突出现原因</h4> <p>当 git 不知道如何自动合并某个文件的多处改动的时候，就会引发冲突。<br>
一般出现在多人协作中修改了两个或多个开发者修改了同一行代码（编辑冲突）或者对某份代码的几个部分作出了各自的修改的时候</p> <h4 id="解决冲突"><a href="#解决冲突" aria-hidden="true" class="header-anchor">#</a> 解决冲突</h4> <ul><li>使用 “我的版本” 或 “他人版本” 来解决<br>
这是修复 git 中的合并冲突最简单的方式。右击任意有冲突的文件<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c054656b746c0?w=537&h=516&f=png&s=22774" alt><br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c059c9dc1b894?w=301&h=138&f=png&s=5056" alt><br>
选择这种方式解决冲突的情况下，说明你对冲突代码的取舍是明确的。</li> <li>手动编辑方法解决
这种方式是在你不能确定是否可以丢弃的另一份代码情况下使用，也是 git 中的合并冲突最灵活的方法。<br>
打开编辑器，一般编辑器都会显示冲突所在的位置，我们和相关小伙伴商量根据需求修改好冲突代码
修改前：<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c05e5fd65b1db?w=599&h=205&f=png&s=16039" alt>
修改后：<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c06099b4b0151?w=329&h=60&f=png&s=4330" alt>
修改完后回到SourceTree，在 “为暂存文件” 区域里选择冲突的文件。拖到上面的 “已暂存文件” 区域里面。或者也可以右击文件，然后选择 “解决冲突 -&gt; 标记为已解决”。
<ul><li>点击“暂存”按钮<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c0cadf96fd054?w=855&h=248&f=png&s=10407" alt></li> <li>标志为已解决<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c0cb1a481fab3?w=537&h=504&f=png&s=23017" alt></li></ul></li> <li>合并过程中失误解决方式<br>
有时候解决冲突，可能误删了一些东西，想恢复到解决冲突之前的状态，有以下解决方式。
<ul><li>重置所有文件：
只要没有提交，就可以从顶部菜单中选择 “丢弃”。然后就可以重新开始分支合并操作，一切都将从头来过。<br> <img src="https://user-gold-cdn.xitu.io/2018/12/18/167c0cb8e39186a3?w=492&h=193&f=png&s=8966" alt></li> <li>重置单个文件：
右击文件，然后选择 “解决冲突 -&gt; 重新合并”</li></ul></li></ul> <h3 id="推送代码到远程库"><a href="#推送代码到远程库" aria-hidden="true" class="header-anchor">#</a> 推送代码到远程库</h3> <p>时刻谨记 <strong>“先拉取，后提交”</strong><br>
虽然SourceTree中不拉取，直接推送，工具会检测如果代码冲突会让你修改冲突之后再提交，但是这样的习惯不好。</p> <ul><li>拉取 : 把项目中这个分支的远程仓库代码拉到本地合并处理（如果有冲突需要把冲突解决）。</li> <li>推送 : 把本地这个分支合并后的代码，推送到远程仓库。</li></ul> <h3 id="上预发布和生产环境需要打tag"><a href="#上预发布和生产环境需要打tag" aria-hidden="true" class="header-anchor">#</a> 上预发布和生产环境需要打tag</h3></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.08330fdf.js" defer></script><script src="/assets/js/7.6b8ef219.js" defer></script>
  </body>
</html>
